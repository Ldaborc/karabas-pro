# Карабас-Про

**Ще один клон ZX Spectrum на FPGA ;)**

## Інтро

Карабас-Про є ZX Spectrum сумісною ЕОМ з програмним центральним процесором Z80 на базі ПЛІС Altera, інтерфейсами НГМД та НЖД (на базі Compact Flash), 
на борту присутні також контроллери PS/2 клавіатури та миши, модуль ESP8266 з послідовним з'єднанням UART, контроллер реального часу, вихід VGA та аналоговий звук, джойстик тощо. 

## Ідея

Ідея та основна мета цього проекту - зробити мініатюрний клон ZX Spectrum сумісного компьютеру "Профі", якій би мав на борту контроллери дисководів та жорстких дисків. 
Розмір плати при цьому відповідає розмірам реального флопі-дисководу 3.5".

## Прошивка

**Основна прошивка є закінченою та наразі реалізує:**

1) Відео-режим класичного ZX Spectrum та режим Профі 512x250 з палітрою 16 кольорів з 256
2) Порт Профі CMR для керування розширеною періферією
3) Контроллер НГМД, якій працює у режимах CP/M та класичного TR-DOS
4) Контроллер НЖД на базі карт пам'яті Compact Flash за стандартами Profi та NemoIDE
5) Інтерфейс клавіатури PS/2 (емуляція PC XT клавіатури)
6) Інтерфейс миши PS/2 (емуляція кемпстон та послідовної MS миши)
7) Вихід VGA (потребує монітора з підтримкою кадрової 50 Гц)
8) Турбосаунд (2 x AY-3-8912), Soundrive та SAA1099 (SAA працює лише при використанні EP4CE10)
9) Підтримка механічних Atari-джойстиків в режимі емуляції Kempston
10) Підтримка 3- та 6-кнопочних SEGA-джойстиків
11) Контроллер реального часу за стандартом Профі, емуляція підтримки читання/запису
12) Доступ до SD карт за протоколом Z-Controller та DivMMC
13) Турбо режим 7 МГц без WAIT та 14 МГц з WAIT циклами
14) Послідовний інтерфейс за стандартом ZX UNO та ZiFi API зі швидкістю 115200 для комунікациї з ESP8266 модулем
15) Додаткова ПЗУ з системою PQ-DOS BIOS
16) Додаткова ПЗУ з утілітою **Flash Tool** від **Doctor Max** (надає можливість оновити ПЛІС та ПЗУ без програматорів)
17) Додаткова ПЗУ з утілітою **FDImage Tool** від **Doctor Max** (надає можливість распаковки образів TRD, SCL, PRO, TD0 та FDI на гнучкі накопичувачі)
18) OSD меню
19) OSD повноекранний оверлей зі зручним інтерфейсом для швидкого налагодження апаратної частини 

## Додаткова інформація

**Перелік помилок до друкованої плати rev.A:** [Дивитися](https://github.com/andykarpov/karabas-pro/blob/master/ERRATA-REVA.md).

**Перелік помилок до друкованої плати rev.B:** [Дивитися](https://github.com/andykarpov/karabas-pro/blob/master/ERRATA-REVB.md).

**Перелік помилок до друкованої плати rev.С:** [Дивитися](https://github.com/andykarpov/karabas-pro/blob/master/ERRATA-REVC.md).

**Остання стабільна ревізія проекту:** rev.Ї [Завантажити](https://github.com/andykarpov/karabas-pro/raw/master/pcb/gerbers/karabas-pro-gerbers-revEU.zip).

**Перелік змін до друкованої плати:** [Дивитися](https://github.com/andykarpov/karabas-pro/blob/master/CHANGELOG-PCB.md).

**Реліз прошивки Профі** [Завантажити](https://github.com/andykarpov/karabas-pro/releases).

**Донати** [Дивитися](https://github.com/andykarpov/karabas-pro/blob/master/DONATIONS.md).

### Зображення плати:

![image](https://github.com/andykarpov/karabas-pro/raw/master/docs/photos/karabas-pro-revER-top.png)

![image](https://github.com/andykarpov/karabas-pro/raw/master/docs/photos/karabas-pro-revER-bottom.png)

